#! /bin/sh /usr/share/dpatch/dpatch-run
## 70_fix_eventhandler_paths.dpatch by Alexander Wirt <formorer@debian.org>
##
## All lines beginning with `## DP:' are a description of the patch.
## DP: Fixes paths for all contributed eventhandlers

@DPATCH@
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/disable_active_service_checks icinga/contrib/eventhandlers/disable_active_service_checks
--- icinga~/contrib/eventhandlers/disable_active_service_checks	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/disable_active_service_checks	2011-05-11 11:22:35.000000000 +0200
@@ -16,7 +16,7 @@
 
 printfcmd="/usr/bin/printf"
 
-CommandFile="/usr/local/nagios/var/rw/nagios.cmd"
+CommandFile="/var/lib/icinga/rw/icinga.cmd"
 
 # get the current date/time in seconds since UNIX epoch
 datetime=`date +%s`
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/disable_notifications icinga/contrib/eventhandlers/disable_notifications
--- icinga~/contrib/eventhandlers/disable_notifications	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/disable_notifications	2011-05-11 11:22:35.000000000 +0200
@@ -14,7 +14,7 @@
 
 printfcmd="/usr/bin/printf"
 
-CommandFile="/usr/local/nagios/var/rw/nagios.cmd"
+CommandFile="/var/lib/icinga/rw/icinga.cmd"
 
 # get the current date/time in seconds since UNIX epoch
 datetime=`date +%s`
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/distributed-monitoring/obsessive_svc_handler icinga/contrib/eventhandlers/distributed-monitoring/obsessive_svc_handler
--- icinga~/contrib/eventhandlers/distributed-monitoring/obsessive_svc_handler	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/distributed-monitoring/obsessive_svc_handler	2011-05-11 11:22:35.000000000 +0200
@@ -21,7 +21,7 @@
 #
 
 # Location of the submit_check_result_via_nsca script
-SubmitCmd="/usr/local/nagios/libexec/eventhandlers/submit_check_result_via_nsca"
+SubmitCmd="/usr/share/icinga/plugins/eventhandlers/distributed-monitoring/submit_check_result_via_nsca"
 
 # Convert the state string to the corresponding return code
 return_code=-1
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/distributed-monitoring/submit_check_result_via_nsca icinga/contrib/eventhandlers/distributed-monitoring/submit_check_result_via_nsca
--- icinga~/contrib/eventhandlers/distributed-monitoring/submit_check_result_via_nsca	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/distributed-monitoring/submit_check_result_via_nsca	2011-05-11 11:22:35.000000000 +0200
@@ -27,8 +27,8 @@
 
 printfcmd="/usr/bin/printf"
 
-NscaBin="/usr/local/icinga/libexec/send_nsca" 
-NscaCfg="/usr/local/icinga/etc/send_nsca.cfg"
+NscaBin="/usr/sbin/send_nsca" 
+NscaCfg="/etc/send_nsca.cfg"
 IcingaHost="icingahost"
 
 # Fire the data off to the NSCA daemon using the send_nsca script 
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/enable_active_service_checks icinga/contrib/eventhandlers/enable_active_service_checks
--- icinga~/contrib/eventhandlers/enable_active_service_checks	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/enable_active_service_checks	2011-05-11 11:22:35.000000000 +0200
@@ -16,7 +16,7 @@
 
 printfcmd="/usr/bin/printf"
 
-CommandFile="/usr/local/nagios/var/rw/nagios.cmd"
+CommandFile="/var/lib/icinga/rw/icinga.cmd"
 
 # get the current date/time in seconds since UNIX epoch
 datetime=`date +%s`
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/enable_notifications icinga/contrib/eventhandlers/enable_notifications
--- icinga~/contrib/eventhandlers/enable_notifications	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/enable_notifications	2011-05-11 11:22:35.000000000 +0200
@@ -14,7 +14,7 @@
 
 printfcmd="/usr/bin/printf"
 
-CommandFile="/usr/local/nagios/var/rw/nagios.cmd"
+CommandFile="/var/lib/icinga/rw/icinga.cmd"
 
 # get the current date/time in seconds since UNIX epoch
 datetime=`date +%s`
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/redundancy-scenario1/handle-master-host-event icinga/contrib/eventhandlers/redundancy-scenario1/handle-master-host-event
--- icinga~/contrib/eventhandlers/redundancy-scenario1/handle-master-host-event	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/redundancy-scenario1/handle-master-host-event	2011-05-11 11:22:35.000000000 +0200
@@ -9,10 +9,10 @@
 
 # Location of the echo and mail commands
 echocmd="/bin/echo"
-mailcmd="/bin/mail"
+mailcmd="/usr//bin/mail"
 
 # Location of the event handlers
-eventhandlerdir="/usr/local/icinga/libexec/eventhandlers"
+eventhandlerdir="/usr/share/icinga/plugins/eventhandlers"
 
 
 # Only take action on hard host states...
diff -urNad '--exclude=CVS' '--exclude=.svn' '--exclude=.git' '--exclude=.arch' '--exclude=.hg' '--exclude=_darcs' '--exclude=.bzr' icinga~/contrib/eventhandlers/redundancy-scenario1/handle-master-proc-event icinga/contrib/eventhandlers/redundancy-scenario1/handle-master-proc-event
--- icinga~/contrib/eventhandlers/redundancy-scenario1/handle-master-proc-event	2011-05-11 10:04:31.000000000 +0200
+++ icinga/contrib/eventhandlers/redundancy-scenario1/handle-master-proc-event	2011-05-11 11:22:35.000000000 +0200
@@ -9,10 +9,10 @@
 
 # Location of the echo and mail commands
 echocmd="/bin/echo"
-mailcmd="/bin/mail"
+mailcmd="/usr/bin/mail"
 
 # Location of the event handlers
-eventhandlerdir="/usr/local/icinga/libexec/eventhandlers"
+eventhandlerdir="/usr/share/icinga/plugins/eventhandlers"
 
 
 # Only take action on hard service states...
